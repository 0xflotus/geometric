!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.geometric={})}(this,function(n){"use strict";function t(n){return 180*Math.atan2(n[1][1]-n[0][1],n[1][0]-n[0][0])/Math.PI}function r(n){return Math.sqrt(Math.pow(n[1][0]-n[0][0],2)+Math.pow(n[1][1]-n[0][1],2))}function e(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}function o(n,t,r){function e(n,t){return[n[0]*Math.cos(t)-n[1]*Math.sin(t),n[0]*Math.sin(t)+n[1]*Math.cos(t)]}return t=t/180*Math.PI,!r||0===r[0]&&0===r[1]?e(n,t):e(n.map(function(n,t){return n-r[t]}),t).map(function(n,t){return n+r[t]})}function u(n,t,r){return t=t/180*Math.PI,[n[0]+r*Math.cos(t),n[1]+r*Math.sin(t)]}function a(n){for(var t=0,r=0,e=n.length;r<e;r++){var o=n[r],u=n[r===e-1?0:r+1];t+=o[0]*u[1],t-=u[0]*o[1]}return Math.abs(t/2)}function i(n){for(var t=n[0][0],r=t,e=n[0][1],o=e,u=1,a=n.length;u<a;u++){var i=n[u],f=i[0],l=i[1];f<t&&(t=f),f>r&&(r=f),l<e&&(e=l),l>o&&(o=l)}return[[t,e],[r,o]]}function f(n){for(var t=0,r=0,e=0,o=n.length,u=0;u<o;u++){var a=u===o-1?0:u+1,i=n[u],f=n[a],l=i[0]*f[1]-f[0]*i[1];t+=l,r+=(i[0]+f[0])*l,e+=(i[1]+f[1])*l}var h=3*t;return[r/h,e/h]}function l(n,t,r){return(n[0]-r[0])*(t[1]-r[1])-(n[1]-r[1])*(t[0]-r[0])}function h(n){if(n.length<3)return null;n.sort(function(n,t){return n[0]===t[0]?n[1]-t[1]:n[0]-t[0]});for(var t=[],r=0;r<n.length;r++){for(;t.length>=2&&l(t[t.length-2],t[t.length-1],n[r])<=0;)t.pop();t.push(n[r])}for(var e=[],o=n.length-1;o>=0;o--){for(;e.length>=2&&l(e[e.length-2],e[e.length-1],n[o])<=0;)e.pop();e.push(n[o])}return e.pop(),t.pop(),t.concat(e)}function g(n){for(var t,r,e=-1,o=n.length,u=n[o-1],a=u[0],i=u[1],f=0;++e<o;)t=a,r=i,u=n[e],a=u[0],i=u[1],t-=a,r-=i,f+=Math.sqrt(t*t+r*r);return f}function c(n){for(var t=0,r=0,e=n.length,o=0;o<e;o++){var u=n[o];t+=u[0],r+=u[1]}return[t/e,r/e]}function p(n){for(var t=0,e=n.length,o=0;o<e;o++)t+=r([n[o],n[o===e-1?0:o+1]]);return t}function s(n,t,r){for(var e=[],o=0,a=n.length;o<a;o++)e.push(u(n[o],t,r));return e}function v(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments.length>2?arguments[2]:void 0,a=[],i=[0,0],f=[0,0],l=0,h=0;h<n;h++)a[h]=i,f[0]+=i[0],f[1]+=i[1],i=u(i,l,Math.sqrt(4*e*Math.tan(Math.PI/n)/n)),l-=360/n;if(o){var g=[[f[0]/n,f[1]/n],o];a=s(a,t(g),r(g))}return a}function M(n,t,r){for(var e=[],u=0,a=n.length;u<a;u++)e.push(o(n[u],t,r));return e}function y(n,e,o){o||(o=f(n));for(var a=[],i=0,l=n.length;i<l;i++){var h=n[i],g=r([o,h]),c=t([o,h]);a.push(u(o,c,g*e))}return a}function d(n,t){var r,e,o,u=n[0][0],a=n[0][1],i=n[1][0],f=n[1][1],l=t[0][0],h=t[0][1],g=t[1][0],c=t[1][1];return 0!==(r=(i-u)*(c-h)-(g-l)*(f-a))&&(o=((c-h)*(g-u)+(l-g)*(c-a))/r,e=((a-f)*(g-u)+(i-u)*(c-a))/r,0<o&&o<1&&0<e&&e<1)}function P(n,t){var r=!1;t[0]!==t[t.length-1]&&t.push(t[0]);for(var e=0,o=t.length-1;e<o;e++)if(d(n,[t[e],t[e+1]])){r=!0;break}return r}function I(n,t){for(var r=n[0],e=n[1],o=!1,u=0,a=t.length-1;u<t.length;a=u++){var i=t[u][0],f=t[u][1],l=t[a][0],h=t[a][1];f>e!=h>e&&r<(l-i)*(e-f)/(h-f)+i&&(o=!o)}return o}function L(n){return n[1][1]>n[0][1]?n:[n[1],n[0]]}function b(n,t){var r=L(t);return l(n,r[1],r[0])<0}function m(n,t){var r=L(t);return l(n,r[1],r[0])>0}function R(n,t){return 0===l(n,t[0],t[1])}function T(n,t){for(var r=!0,e=0,o=n.length;e<o;e++){if(!I(n[e],t)){r=!1;break}}return r}function k(n,t){var r=!1;n[0]!==n[n.length-1]&&n.push(n[0]);for(var e=0,o=n.length-1;e<o;e++)if(P([n[e],n[e+1]],t)){r=!0;break}return r}function q(n,t){var r=2*t-n;return r>=360?r-360:r<0?r+360:r}function x(n){return n/180*Math.PI}function j(n){return 180*n/Math.PI}n.lineAngle=t,n.lineLength=r,n.lineMidpoint=e,n.pointRotate=o,n.pointTranslate=u,n.polygonArea=a,n.polygonBounds=i,n.polygonCentroid=f,n.polygonHull=h,n.polygonLength=g,n.polygonMean=c,n.polygonPerimeter=p,n.polygonRegular=v,n.polygonRotate=M,n.polygonScale=y,n.polygonTranslate=s,n.lineIntersectsLine=d,n.lineIntersectsPolygon=P,n.pointInPolygon=I,n.pointLeftofLine=b,n.pointRightofLine=m,n.pointOnLine=R,n.polygonInPolygon=T,n.polygonIntersectsPolygon=k,n.angleReflect=q,n.degreesToRadians=x,n.radiansToDegrees=j,Object.defineProperty(n,"__esModule",{value:!0})});